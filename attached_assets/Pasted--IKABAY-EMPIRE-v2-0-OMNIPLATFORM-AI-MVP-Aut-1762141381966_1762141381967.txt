##############################################
# ğŸŒ IKABAY EMPIRE v2.0 â€“ OMNIPLATFORM AI MVP
# Auteur : Vladimir CLAVEAU
# Objectif : MVP caribÃ©en universel et intelligent
# CompatibilitÃ© : Web + Mobile + WhatsApp + Social + API
##############################################

ğŸ¯ Objectif :
CrÃ©er une plateforme unifiÃ©e â€œIkabay Empireâ€ qui :
- Fonctionne sur tout support (web, mobile, WhatsApp, Facebook, Telegram)
- Centralise e-commerce, food delivery, crypto rewards et IA
- Sâ€™auto-optimise selon les clics, zones et intÃ©rÃªts utilisateurs
- Offre une expÃ©rience fluide, tropicale, et communautaire

##############################################
## âš™ï¸ ARCHITECTURE TECHNIQUE
##############################################

Framework : Next.js 14 + TypeScript  
UI : TailwindCSS + Shadcn UI + Framer Motion  
DB : Supabase (users, products, orders, wallets, analytics)  
IA : OpenAI GPT-4o-mini + Google Gemini Pro  
GÃ©olocalisation : ipapi.co + GPS mobile  
Crypto : IKB Token (wallet fictif + cashback + mining)  
Social/Chat : WhatsApp Cloud API + Telegram Bot API  
Webhooks : Zapier + Airtable + Replit Cron  
Monitoring : IKABOT Empire AI Supervisor  
SEO : Automatique (sitemap, microdata, hreflang)

##############################################
## ğŸ” SECRETS Ã€ UTILISER / CRÃ‰ER
##############################################
NEXT_PUBLIC_SUPABASE_URL  
NEXT_PUBLIC_SUPABASE_ANON_KEY  
OPENAI_API_KEY  
GEMINI_API_KEY  
COINBASE_API_KEY  
WHATSAPP_API_TOKEN  
TELEGRAM_BOT_TOKEN  
ZAPIER_HOOK_URL  
AIRTABLE_API_KEY  
EMPIRE_API_TOKEN  
INTERNAL_SERVICE_TOKEN  
IKB_CONTRACT_ADDRESS  

##############################################
## ğŸ§± STRUCTURE Ã€ GÃ‰NÃ‰RER
##############################################

ğŸ“ /app
- /[locale]/page.tsx â†’ page dâ€™accueil IA tropicale
- /market â†’ marketplace de produits
- /food â†’ livraison locale (Delikreol)
- /dashboard â†’ portefeuille crypto + IA
- /chat â†’ intÃ©gration WhatsApp / Telegram
- /api â†’ endpoints IA, crypto, gÃ©oloc, WhatsApp

ğŸ“ /lib
- supabaseClient.ts â†’ gestion DB
- queryClient.ts â†’ React Query
- ai.ts â†’ fusion OpenAI + Gemini
- whatsapp.ts â†’ Webhook message API
- empireSupervisor.ts â†’ analyse globale + recommandations

ğŸ“ /scripts
- monitor-empire.sh â†’ scan auto toutes les 12h
- notify-whatsapp.sh â†’ envoi notifications auto

ğŸ“ /components
- Hero.tsx (texte IA + CTA)
- ProductCard.tsx
- WalletCard.tsx
- ChatWidget.tsx (WhatsApp/Telegram)
- DashboardCharts.tsx (Recharts)

##############################################
## ğŸ¤– INTELLIGENCE & AUTOMATION
##############################################

1ï¸âƒ£ /api/story
â†’ GÃ©nÃ¨re la phrase dâ€™accueil du jour (OpenAI)
â€œBienvenue Ã  Fort-de-France ğŸŒ´ â€” chaque clic te rapporte un peu dâ€™IKB.â€

2ï¸âƒ£ /api/recommend
â†’ Fusion OpenAI + Gemini : top 3 produits selon clics, gÃ©oloc et tendances locales

3ï¸âƒ£ /api/reward
â†’ CrÃ©dit automatique 5% IKB aprÃ¨s achat + message WhatsApp : â€œFÃ©licitations ğŸ‰ ! Tu gagnes 5% IKB.â€

4ï¸âƒ£ /api/geo
â†’ DÃ©tection gÃ©ographique (ipapi.co + GPS mobile fallback)

5ï¸âƒ£ /api/whatsapp
â†’ Envoi de messages via Cloud API (Twilio ou Meta)
Ex : â€œSalut ğŸ‘‹ ! Voici les nouveautÃ©s dâ€™Ikabay aujourdâ€™hui ğŸŒºâ€
+ possibilitÃ© de rÃ©pondre avec â€œAcheterâ€ ou â€œDÃ©couvrirâ€

6ï¸âƒ£ /api/empire
â†’ Superviseur global IA : scan ventes, engagement, IKB circulation, zone active.
â†’ Stocke dans Supabase `empire_logs`.

##############################################
## ğŸ“± WHATSAPP / TELEGRAM FLOW
##############################################

ğŸ¯ Cas dâ€™usage :
- Lâ€™utilisateur clique sur â€œPartager sur WhatsAppâ€ â†’ reÃ§oit un lien unique
- Il peut taper â€œMENUâ€, â€œOFFREâ€, â€œSOLDEâ€ ou â€œAIDEâ€
- IKABOT rÃ©pond avec IA (OpenAI) selon contexte
- Les interactions sont loggÃ©es pour scoring

ğŸ“ Exemple de flux IA :
